import{S as Te,i as De,s as Ge,l as de,f as S,d as _,e as p,k as T,c as b,a as M,n as D,b as c,K as U,L as N,I as v,t as X,g as Y,h as ee,N as ie,j as Me,m as Ve,o as Ne,O as ne,x as Oe,u as je,v as Ae,P as me,Q as Ce,R as Be}from"../chunks/vendor-c973fac6.js";import{c as Qe,l as qe,d as Ue}from"../chunks/characteravatar.svelte_svelte&type=style&lang-83f1d31d.js";/* empty css                                                             */import He from"./witchselection.svelte-06f4938e.js";import We from"./components/characteravatar.svelte-01552430.js";/* empty css                                                    */function pe(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function be(s,e,t){const l=s.slice();return l[22]=e[t],l[24]=t,l}function ke(s,e,t){const l=s.slice();return l[25]=e[t],l[21]=t,l}function Ie(s,e,t){const l=s.slice();return l[22]=e[t],l[21]=t,l}function Re(s){let e,t,l,u,o,n;return{c(){e=p("button"),t=p("img"),u=T(),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var r=M(e);t=b(r,"IMG",{class:!0,src:!0,alt:!0}),u=D(r),r.forEach(_),this.h()},h(){c(t,"class","star svelte-18b3fvm"),N(t.src,l="./data/img/ui/rarity/StarActive.png")||c(t,"src",l),c(t,"alt","star"),c(e,"class","starbutton svelte-18b3fvm")},m(i,r){S(i,e,r),v(e,t),v(e,u),o||(n=ne(e,"click",s[8](s[21]+1)),o=!0)},p(i,r){s=i},d(i){i&&_(e),o=!1,n()}}}function ze(s){let e,t,l,u,o,n;return{c(){e=p("button"),t=p("img"),u=T(),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var r=M(e);t=b(r,"IMG",{class:!0,src:!0,alt:!0}),u=D(r),r.forEach(_),this.h()},h(){c(t,"class","star svelte-18b3fvm"),N(t.src,l="./data/img/ui/rarity/StarActive.png")||c(t,"src",l),c(t,"alt","star"),c(e,"class","starbutton starunbutton svelte-18b3fvm")},m(i,r){S(i,e,r),v(e,t),v(e,u),o||(n=ne(e,"click",function(){Be(s[8](s[0].Quality-1))&&s[8](s[0].Quality-1).apply(this,arguments)}),o=!0)},p(i,r){s=i},d(i){i&&_(e),o=!1,n()}}}function Ke(s){let e,t,l,u,o,n;return{c(){e=p("button"),t=p("img"),u=T(),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var r=M(e);t=b(r,"IMG",{class:!0,src:!0,alt:!0}),u=D(r),r.forEach(_),this.h()},h(){c(t,"class","star svelte-18b3fvm"),N(t.src,l="./data/img/ui/rarity/StarInactive.png")||c(t,"src",l),c(t,"alt","star"),c(e,"class","starbutton svelte-18b3fvm")},m(i,r){S(i,e,r),v(e,t),v(e,u),o||(n=ne(e,"click",s[8](s[21]+1)),o=!0)},p(i,r){s=i},d(i){i&&_(e),o=!1,n()}}}function ye(s){let e,t;function l(n,i){return n[3]<=n[21]?Ke:((e==null||i&1)&&(e=n[21]<parseInt(n[0].Quality)-2),e?ze:Re)}let u=l(s,-1),o=u(s);return{c(){o.c(),t=de()},l(n){o.l(n),t=de()},m(n,i){o.m(n,i),S(n,t,i)},p(n,i){u===(u=l(n,i))&&o?o.p(n,i):(o.d(1),o=u(n),o&&(o.c(),o.m(t.parentNode,t)))},d(n){o.d(n),n&&_(t)}}}function Le(s){let e,t=s[7].cn[s[25].skillshow[s[3]-1].skill_name]+"",l,u,o,n=s[7].cn[s[25].skillshow[s[3]-1].SkillInfo]+"",i;return{c(){e=p("div"),l=X(t),u=T(),o=p("div"),i=X(n)},l(r){e=b(r,"DIV",{});var f=M(e);l=Y(f,t),f.forEach(_),u=D(r),o=b(r,"DIV",{});var d=M(o);i=Y(d,n),d.forEach(_)},m(r,f){S(r,e,f),v(e,l),S(r,u,f),S(r,o,f),v(o,i)},p(r,f){f&40&&t!==(t=r[7].cn[r[25].skillshow[r[3]-1].skill_name]+"")&&ee(l,t),f&40&&n!==(n=r[7].cn[r[25].skillshow[r[3]-1].SkillInfo]+"")&&ee(i,n)},d(r){r&&_(e),r&&_(u),r&&_(o)}}}function Pe(s){let e,t=s[7].cn[s[25].skillshow[0].skill_name]+"",l,u,o,n=s[7].cn[s[25].skillshow[0].SkillInfo]+"",i;return{c(){e=p("div"),l=X(t),u=T(),o=p("div"),i=X(n)},l(r){e=b(r,"DIV",{});var f=M(e);l=Y(f,t),f.forEach(_),u=D(r),o=b(r,"DIV",{});var d=M(o);i=Y(d,n),d.forEach(_)},m(r,f){S(r,e,f),v(e,l),S(r,u,f),S(r,o,f),v(o,i)},p(r,f){f&32&&t!==(t=r[7].cn[r[25].skillshow[0].skill_name]+"")&&ee(l,t),f&32&&n!==(n=r[7].cn[r[25].skillshow[0].SkillInfo]+"")&&ee(i,n)},d(r){r&&_(e),r&&_(u),r&&_(o)}}}function we(s){let e,t,l,u,o,n,i;function r(w,y){return w[25].skillshow.length==1?Pe:Le}let f=r(s),d=f(s);return{c(){e=p("div"),t=p("div"),l=p("img"),n=T(),d.c(),i=T(),this.h()},l(w){e=b(w,"DIV",{});var y=M(e);t=b(y,"DIV",{style:!0});var O=M(t);l=b(O,"IMG",{class:!0,style:!0,src:!0,alt:!0}),n=D(O),d.l(O),O.forEach(_),i=D(y),y.forEach(_),this.h()},h(){c(l,"class",""),U(l,"width","50px"),N(l.src,u="./data/img/source_icon/skill/"+s[25].icon+".png")||c(l,"src",u),c(l,"alt",o=s[25].icon),U(t,"background","#444"),U(t,"margin","10px"),U(t,"padding","10px")},m(w,y){S(w,e,y),v(e,t),v(t,l),v(t,n),d.m(t,null),v(e,i)},p(w,y){y&32&&!N(l.src,u="./data/img/source_icon/skill/"+w[25].icon+".png")&&c(l,"src",u),y&32&&o!==(o=w[25].icon)&&c(l,"alt",o),f===(f=r(w))&&d?d.p(w,y):(d.d(1),d=f(w),d&&(d.c(),d.m(t,null)))},d(w){w&&_(e),d.d()}}}function Ee(s){let e,t;return{c(){e=p("img"),this.h()},l(l){e=b(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){c(e,"class","star starSmall svelte-18b3fvm"),N(e.src,t="./data/img/ui/rarity/StarActive.png")||c(e,"src",t),c(e,"alt","star")},m(l,u){S(l,e,u)},d(l){l&&_(e)}}}function Se(s){let e,t,l,u,o,n,i,r,f=s[7].cn[s[19].talentdata.Talent_Name]+"",d,w,y,O=s[7].cn[s[19].talentdata.desc]+"",V,W,Q=Array(parseInt(s[19].talentdata.Star)-1),G=[];for(let g=0;g<Q.length;g+=1)G[g]=Ee(be(s,Q,g));return{c(){e=p("div"),t=p("img"),o=T(),n=p("div");for(let g=0;g<G.length;g+=1)G[g].c();i=T(),r=p("div"),d=X(f),w=T(),y=p("div"),V=X(O),W=T(),this.h()},l(g){e=b(g,"DIV",{style:!0});var E=M(e);t=b(E,"IMG",{class:!0,style:!0,src:!0,alt:!0}),o=D(E),n=b(E,"DIV",{class:!0});var q=M(n);for(let R=0;R<G.length;R+=1)G[R].l(q);q.forEach(_),i=D(E),r=b(E,"DIV",{});var m=M(r);d=Y(m,f),m.forEach(_),w=D(E),y=b(E,"DIV",{});var j=M(y);V=Y(j,O),j.forEach(_),W=D(E),E.forEach(_),this.h()},h(){c(t,"class",""),U(t,"width","50px"),N(t.src,l="./data/img/source_icon/talent/"+s[19].icon+".png")||c(t,"src",l),c(t,"alt",u=s[19].icon),c(n,"class","starContainer starHorizontal svelte-18b3fvm"),U(e,"background","#444"),U(e,"margin","10px"),U(e,"padding","10px")},m(g,E){S(g,e,E),v(e,t),v(e,o),v(e,n);for(let q=0;q<G.length;q+=1)G[q].m(n,null);v(e,i),v(e,r),v(r,d),v(e,w),v(e,y),v(y,V),v(e,W)},p(g,E){if(E&64&&!N(t.src,l="./data/img/source_icon/talent/"+g[19].icon+".png")&&c(t,"src",l),E&64&&u!==(u=g[19].icon)&&c(t,"alt",u),E&64){const q=Q.length;Q=Array(parseInt(g[19].talentdata.Star)-1);let m;for(m=q;m<Q.length;m+=1)be(g,Q,m),G[m]||(G[m]=Ee(),G[m].c(),G[m].m(n,null));for(m=Q.length;m<q;m+=1)G[m].d(1);G.length=Q.length}E&64&&f!==(f=g[7].cn[g[19].talentdata.Talent_Name]+"")&&ee(d,f),E&64&&O!==(O=g[7].cn[g[19].talentdata.desc]+"")&&ee(V,O)},d(g){g&&_(e),ie(G,g)}}}function Fe(s){let e,t,l,u,o,n,i,r,f,d,w,y,O,V,W,Q,G,g,E,q,m,j,R,F,J,ae,z,te,ce,oe,se,K,le,ue,fe,L,_e,he,Z=Array(6),A=[];for(let a=0;a<Z.length;a+=1)A[a]=ye(Ie(s,Z,a));J=new We({props:{chara:s[0],quality:s[4],starnum:s[3],withname:!1}});let $=s[5],C=[];for(let a=0;a<$.length;a+=1)C[a]=we(ke(s,$,a));let x=s[6],B=[];for(let a=0;a<x.length;a+=1)B[a]=Se(pe(s,x,a));return{c(){e=p("div");for(let a=0;a<A.length;a+=1)A[a].c();t=T(),l=p("div"),u=p("img"),n=T(),i=p("img"),f=T(),d=p("img"),O=T(),V=p("img"),G=T(),g=p("img"),q=T(),m=p("img"),R=T(),F=p("button"),Me(J.$$.fragment),ae=T(),z=p("div"),te=p("h1"),ce=X("Skills"),oe=T();for(let a=0;a<C.length;a+=1)C[a].c();se=T(),K=p("div"),le=p("h1"),ue=X("Talents"),fe=T();for(let a=0;a<B.length;a+=1)B[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var k=M(e);for(let P=0;P<A.length;P+=1)A[P].l(k);k.forEach(_),t=D(a),l=b(a,"DIV",{class:!0});var I=M(l);u=b(I,"IMG",{class:!0,src:!0,alt:!0}),n=D(I),i=b(I,"IMG",{class:!0,src:!0,alt:!0}),f=D(I),d=b(I,"IMG",{class:!0,src:!0,alt:!0}),O=D(I),V=b(I,"IMG",{class:!0,src:!0,alt:!0}),G=D(I),g=b(I,"IMG",{class:!0,src:!0,alt:!0}),q=D(I),m=b(I,"IMG",{class:!0,src:!0,alt:!0}),I.forEach(_),R=D(a),F=b(a,"BUTTON",{class:!0});var h=M(F);Ve(J.$$.fragment,h),h.forEach(_),ae=D(a),z=b(a,"DIV",{style:!0});var H=M(z);te=b(H,"H1",{});var ve=M(te);ce=Y(ve,"Skills"),ve.forEach(_),oe=D(H);for(let P=0;P<C.length;P+=1)C[P].l(H);H.forEach(_),se=D(a),K=b(a,"DIV",{style:!0});var re=M(K);le=b(re,"H1",{});var ge=M(le);ue=Y(ge,"Talents"),ge.forEach(_),fe=D(re);for(let P=0;P<B.length;P+=1)B[P].l(re);re.forEach(_),this.h()},h(){c(e,"class","starContainer svelte-18b3fvm"),c(u,"class","cardpic svelte-18b3fvm"),N(u.src,o="./data/img/source_avatar/hero/card_"+s[1]+".png")||c(u,"src",o),c(u,"alt",""),c(i,"class","cardframe svelte-18b3fvm"),N(i.src,r="./data/img/ui/chara_frame/cardframe_"+(s[4]-1+Math.floor((s[3]-s[4]+1)/2))+".png")||c(i,"src",r),c(i,"alt",""),c(d,"class","elementframe svelte-18b3fvm"),N(d.src,w="./data/img/ui/element/elementframe1.png")||c(d,"src",w),c(d,"alt",y=s[0].attri_type),c(V,"class","element svelte-18b3fvm"),N(V.src,W="./data/img/ui/element/element"+s[0].attri_type+".png")||c(V,"src",W),c(V,"alt",Q=s[0].attri_type),c(g,"class","typeframe svelte-18b3fvm"),N(g.src,E="./data/img/ui/element/elementframe1.png")||c(g,"src",E),c(g,"alt",s[2]),c(m,"class","type svelte-18b3fvm"),N(m.src,j="./data/img/ui/class/comm_atk_"+s[2]+".png")||c(m,"src",j),c(m,"alt",s[2]),c(l,"class","charactercard svelte-18b3fvm"),c(F,"class","invisibleButton svelte-18b3fvm"),U(z,"background","#333"),U(z,"padding","1px 5px"),U(z,"margin","5px"),U(K,"background","#333"),U(K,"padding","1px 5px"),U(K,"margin","5px")},m(a,k){S(a,e,k);for(let I=0;I<A.length;I+=1)A[I].m(e,null);S(a,t,k),S(a,l,k),v(l,u),v(l,n),v(l,i),v(l,f),v(l,d),v(l,O),v(l,V),v(l,G),v(l,g),v(l,q),v(l,m),S(a,R,k),S(a,F,k),Ne(J,F,null),S(a,ae,k),S(a,z,k),v(z,te),v(te,ce),v(z,oe);for(let I=0;I<C.length;I+=1)C[I].m(z,null);S(a,se,k),S(a,K,k),v(K,le),v(le,ue),v(K,fe);for(let I=0;I<B.length;I+=1)B[I].m(K,null);L=!0,_e||(he=ne(F,"click",s[9]),_e=!0)},p(a,[k]){if(k&265){Z=Array(6);let h;for(h=0;h<Z.length;h+=1){const H=Ie(a,Z,h);A[h]?A[h].p(H,k):(A[h]=ye(H),A[h].c(),A[h].m(e,null))}for(;h<A.length;h+=1)A[h].d(1);A.length=Z.length}(!L||k&2&&!N(u.src,o="./data/img/source_avatar/hero/card_"+a[1]+".png"))&&c(u,"src",o),(!L||k&24&&!N(i.src,r="./data/img/ui/chara_frame/cardframe_"+(a[4]-1+Math.floor((a[3]-a[4]+1)/2))+".png"))&&c(i,"src",r),(!L||k&1&&y!==(y=a[0].attri_type))&&c(d,"alt",y),(!L||k&1&&!N(V.src,W="./data/img/ui/element/element"+a[0].attri_type+".png"))&&c(V,"src",W),(!L||k&1&&Q!==(Q=a[0].attri_type))&&c(V,"alt",Q),(!L||k&4)&&c(g,"alt",a[2]),(!L||k&4&&!N(m.src,j="./data/img/ui/class/comm_atk_"+a[2]+".png"))&&c(m,"src",j),(!L||k&4)&&c(m,"alt",a[2]);const I={};if(k&1&&(I.chara=a[0]),k&16&&(I.quality=a[4]),k&8&&(I.starnum=a[3]),J.$set(I),k&168){$=a[5];let h;for(h=0;h<$.length;h+=1){const H=ke(a,$,h);C[h]?C[h].p(H,k):(C[h]=we(H),C[h].c(),C[h].m(z,null))}for(;h<C.length;h+=1)C[h].d(1);C.length=$.length}if(k&192){x=a[6];let h;for(h=0;h<x.length;h+=1){const H=pe(a,x,h);B[h]?B[h].p(H,k):(B[h]=Se(H),B[h].c(),B[h].m(K,null))}for(;h<B.length;h+=1)B[h].d(1);B.length=x.length}},i(a){L||(Oe(J.$$.fragment,a),L=!0)},o(a){je(J.$$.fragment,a),L=!1},d(a){a&&_(e),ie(A,a),a&&_(t),a&&_(l),a&&_(R),a&&_(F),Ae(J),a&&_(ae),a&&_(z),ie(C,a),a&&_(se),a&&_(K),ie(B,a),_e=!1,he()}}}function Je(s,e,t){let l,u,o;me(s,Qe,m=>t(10,l=m)),me(s,qe,m=>t(11,u=m)),me(s,Ue,m=>t(12,o=m));const{open:n}=Ce("simple-modal");let i=o,r=u,f=l;f.Name_EN;let d=f.id+"0001",w=f.AtkType,y=parseInt(f.Star),O=parseInt(f.Quality),V=[],W=[];g(l),console.log(f.OrgSkills);const Q=m=>()=>{t(3,y=m)},G=()=>{n(He,{message:"",changeChara:g},{styleBg:{background:"#000000aa"},styleWindow:{background:"#222222",width:"105vw",height:"calc( 100vh - 5em )","text-align":"center"}})};function g(m){t(0,f=m),t(1,d=f.id+"0001"),t(2,w=f.AtkType),t(3,y=parseInt(f.Star)),t(4,O=parseInt(f.Quality)),E(),q()}function E(){t(5,V=[]),f.OrgSkills.forEach(m=>{let j={icon:m};j.skillshow=i.witchskillshow.filter(R=>R.id==m),V.push(j)})}function q(){t(6,W=[]),f.NewTalentID.forEach(m=>{let j={};j.talentdata=i.charaTalent.filter(R=>R.id==m[1])[0],console.log(j),j.icon=j.talentdata.Talent_ICON,W.push(j)})}return[f,d,w,y,O,V,W,r,Q,G]}class tt extends Te{constructor(e){super();De(this,e,Je,Fe,Ge,{})}}export{tt as default};
